{"version":3,"sources":["./src/environments/environment.ts","./src/app/line-chart/line-chart.component.ts","./src/app/line-chart/line-chart.component.html","./src/app/donut/donut.component.ts","./src/app/donut/donut.component.html","./src/app/webesp/webesp.component.ts","./src/app/webesp/webesp.component.html","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/webesp-terminal.service.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/webesp-terminal/webesp-terminal.component.html","./src/app/webesp-terminal/webesp-terminal.component.ts","./src/app/plant-monitor-dashboard/plant-monitor-dashboard.component.ts","./src/app/plant-monitor-dashboard/plant-monitor-dashboard.component.html","./src/app/plant-monitor-dashboard/dialog-plant-config.html","./src/app/app.module.ts","./src/app/plant-monitor/plant-monitor.component.ts","./src/app/plant-monitor/plant-monitor.component.html","./src/app/webesp-config/webesp-config.component.html","./src/app/webesp-config/webesp-config.component.ts","./src/app/webesp-config.service.ts","./src/app/app-routing.module.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/plant.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;IACjB,QAAQ,EAAE;QACR,MAAM,EAAE,yCAAyC;QACjD,UAAU,EAAE,mCAAmC;QAC/C,WAAW,EAAE,uDAAuD;QACpE,SAAS,EAAE,mBAAmB;QAC9B,aAAa,EAAE,+BAA+B;QAC9C,iBAAiB,EAAE,eAAe;QAClC,KAAK,EAAE,4CAA4C;KACpD;CACF,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;;;;;;;;;;;ACX5D,MAAM,kBAAkB;IAE7B,YAAmB,YAAyB;QAAzB,iBAAY,GAAZ,YAAY,CAAa;IAC5C,CAAC;IAED,QAAQ;IACR,CAAC;;oFANU,kBAAkB;kGAAlB,kBAAkB;QCb/B,2EAAU;QACR,uEAMS;QACX,4DAAW;;QAHP,0DAAuC;QAAvC,oGAAuC;;;;;;;;;;;;;;;;;;;;;;ACIpC,MAAM,cAAc;IAazB;QATO,wBAAmB,GAAY,EAAE,CAAC;QAClC,sBAAiB,GAAiB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC3C,iBAAY,GAAiB;YAClC,QAAQ,EAAE;gBACR,OAAO,EAAE,KAAK;aACf;YACD,UAAU,EAAE,IAAI;SACjB;IAID,CAAC;IAED,IACI,UAAU,CAAC,KAAY;QACzB,IAAG,KAAK,KAAK,IAAI,EAAE;YACjB,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;YACvE,MAAM,SAAS,GAAG,GAAG,GAAG,UAAU,CAAC;YACnC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC,CAAC;SACpD;IACH,CAAC;IAEO,UAAU,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM;QACpD,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,MAAM,CAAC;IACxE,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,mBAAmB,GAAG;YACzB,EAAC,eAAe,EAAC,CAAC,IAAI,CAAC,UAAU,EAAE,wBAAwB,CAAC;aAC7D;SAAC,CAAC;IACL,CAAC;;4EAlCU,cAAc;8FAAd,cAAc;QCT3B,2EAAU;QACJ,uEAOS;QACf,4DAAW;;QAPH,0DAA0B;QAA1B,uFAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCsB;;;;;;;;;;;;;ICApD,4EAA6E;IAAtB,6TAAqB;IAAC,kEAAO;IAAA,4DAAS;;;;IAC7F,4EAAiG;IAAzB,gUAAwB;IAAC,qEAAU;IAAA,4DAAS;;;;IACpH,4EAA2F;IAApB,8TAAmB;IAAC,wEAAa;IAAA,4DAAS;;;IACjH,yEAAqC;IACnC,kFAAiG;IACjG,uDACF;IAAA,4DAAM;;;IAFgD,0DAAyB;IAAzB,yFAAyB;IAC7E,0DACF;IADE,8GACF;;;IATJ,yEAAsD;IACpD,+EAAuC;IACvC,8EAAoC;IAClC,uHAA6F;IAC7F,uHAAoH;IACpH,uHAAiH;IACjH,iHAGM;IACR,4DAAW;IACX,2EAAU;IACR,iFAA2C;IAC7C,4DAAW;IACb,4DAAM;;;IAXO,0DAAW;IAAX,8EAAW;IACX,0DAA4B;IAA5B,sGAA4B;IAC5B,0DAA4B;IAA5B,sGAA4B;IAC/B,0DAAY;IAAZ,+EAAY;;;IAStB,sEAA8B;IAAA,+GAAoD;IAAA,4DAAM;;ADNxF,gFAAgF;AAChF,IAAK,OAYJ;AAZD,WAAK,OAAO;IACV,2DAAsB;IACtB,yDAAqB;IACrB,uDAAoB;IACpB,uDAAoB;IACpB,mDAAkB;IAClB,qDAAmB;IACnB,6CAAe;IACf,sDAAmB;IACnB,kEAAyB;IACzB,0DAAqB;IACrB,oEAA0B;AAC5B,CAAC,EAZI,OAAO,KAAP,OAAO,QAYX;AAED,IAAK,UAKJ;AALD,WAAK,UAAU;IACb,iDAAW;IACX,iDAAW;IACX,6CAAS;IACT,iDAAW;AACb,CAAC,EALI,UAAU,KAAV,UAAU,QAKd;AACD,MAAM,WAAW,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;AASxD,MAAM,eAAe;IAc1B,YAAmB,QAA+B,EAAS,MAA0B,EAAU,MAAc;QAA1F,aAAQ,GAAR,QAAQ,CAAuB;QAAS,WAAM,GAAN,MAAM,CAAoB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAVtG,qBAAgB,GAAY,IAAI,CAAC;QACjC,yBAAoB,GAAY,IAAI,CAAC;QAE5C,SAAI,GAA0B,IAAI,CAAC;QAC3B,YAAO,GAAG,KAAK,CAAC;QACxB,UAAK,GAAG,IAAI,aAAa,EAAE,CAAC;QAC5B,YAAO,GAAG,IAAI,WAAW,EAAE,CAAC;QAC5B,WAAM,GAAqB,IAAI,CAAC;QAEhC,oBAAe,GAAY,KAAK,CAAC;QAE/B,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YAChC,IAAK,KAAK,YAAY,6DAAa,EAAG;gBACpC,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,QAAQ,IAAI,SAAS,EAAE;YACzB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC7B;IACH,CAAC;IAEK,YAAY;;YAChB,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE;gBACtB,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;aAClB;QACH,CAAC;KAAA;IAEK,SAAS;;YACb,IAAI;gBACF,MAAM,CAAC,GAAG,MAAM,SAAS,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;gBAC/C,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACf,IAAI,CAAC,IAAI,GAAG,IAAI,cAAc,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAEvD,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;aACvD;YAAC,OAAO,GAAG,EAAE;gBACZ,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;aAC7C;QACH,CAAC;KAAA;IAEK,OAAO;;YACX,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC7B,MAAM,IAAI,CAAC,IAAK,CAAC,UAAU,EAAE,CAAC;QAChC,CAAC;KAAA;IAED,OAAO,CAAC,IAAgB;QACtB,6BAA6B;QAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACpC,mBAAmB;YACnB,IAAI,IAAI,CAAC,OAAO,EAAE;gBAChB,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;oBACnB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;wBACvB,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,IAAI,CAAC,CAAC;qBAChD;yBAAM;wBACL,IAAI,CAAC,MAAO,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;qBAClD;iBACF;qBAAM;oBACL,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;iBACxB;aACF;iBAAM,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;gBAC1B,gDAAgD;gBAChD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;aACpB;iBAAM,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE;gBACxB,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC;gBAClD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACzB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACnB,IAAI,GAAG,IAAI,sBAAsB,EAAE;oBACjC,IAAI,CAAC,IAAI,EAAE,CAAC;iBACb;aACF;iBAAM,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE;gBACxB,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aACxB;SACF;IACH,CAAC;IAEK,IAAI;;YACR,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC7B,MAAM,KAAK,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YACvD,MAAM,KAAK,CAAC,IAAI,EAAE,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,IAAK,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC9D,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QAC3B,CAAC;KAAA;;AAxFM,4BAAY,GAAa,MAAM,CAAC;8EAF5B,eAAe;+FAAf,eAAe;QCvC5B,2GAcM;QACN,2GAAwF;;QAflF,qFAAqB;QAerB,0DAAsB;QAAtB,sFAAsB;;ADsH5B,MAAM,SAAS;IAMb,YAA4B,MAAc,EAAkB,QAAgB,EAAU,QAA+B,EAAU,MAA2B;QAA9H,WAAM,GAAN,MAAM,CAAQ;QAAkB,aAAQ,GAAR,QAAQ,CAAQ;QAAU,aAAQ,GAAR,QAAQ,CAAuB;QAAU,WAAM,GAAN,MAAM,CAAqB;QAL1J,gBAAW,GAAG,IAAI,WAAW,EAAE,CAAC;QAChC,gBAAW,GAAG,IAAI,WAAW,EAAE,CAAC;QAChC,WAAM,GAAe,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;QACvC,iBAAY,GAA+B,EAAE,CAAC;IAG9C,CAAC;IAEK,IAAI;;YACR,IAAI,CAAC,MAAM,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;YAC/E,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;YAE/C,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;YACrD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBAC3C,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;oBACxB,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBAAE,MAAM;iBACvC;gBACD,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE;oBACjB,mBAAmB;oBACnB,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBAChE,MAAM,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACxB,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACtB,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;iBAC9B;aACF;YACD,OAAO,IAAI,CAAC;QACd,CAAC;KAAA;IAEO,KAAK,CAAC,GAAW,EAAE,GAAW,EAAE,GAAW;QACjD,MAAM,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAClC,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;SAC9B;QACD,KAAK,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;YACpC,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;SAC1B;IACH,CAAC;IAEK,MAAM,CAAC,GAAe;;YAC1B,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YACrE,OAAO,IAAI,UAAU,CAAC,UAAU,CAAC,CAAC;QACpC,CAAC;KAAA;IAEa,WAAW;;YACvB,0CAA0C;YAC1C,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YACtB,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAClB,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,IAAI,EAAE,GAAG,IAAI,CAAC;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,EAAE;gBAC7B,MAAM,EAAE,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;gBACxF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;oBAC3B,EAAE,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;iBACvB;gBACD,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;aAChB;YACD,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC;YAEtB,+BAA+B;YAC/B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC;YAC1D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBACpC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;aAChC;QACH,CAAC;KAAA;IAEK,YAAY;;YAChB,MAAM,mBAAmB,GAAG,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC;YAChE,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC;gBAAE,OAAO;YAC1C,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,YAAY,EAAE;gBAC/B,IAAG,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;oBAC7B,MAAM,eAAe,GAAG,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACnD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,KAAK,EAAE,eAAe,CAAC,MAAM,CAAC,CAAC;iBACjF;aACF;YACD,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;QAC5B,CAAC;KAAA;CACF;AAED,MAAM,QAAQ;IAGZ,YAAoB,QAA+B,EAAU,MAA0B;QAAnE,aAAQ,GAAR,QAAQ,CAAuB;QAAU,WAAM,GAAN,MAAM,CAAoB;QAFvF,eAAU,GAAqB,EAAE,CAAC;IAEyD,CAAC;IAEtF,IAAI;;YACR,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,MAAM,EAAE,2BAA2B,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACrG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,MAAM,EAAE,gCAAgC,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAC1G,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,OAAO,EAAE,oBAAoB,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAE/F,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBAC/C,MAAM,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;gBAChC,MAAM,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC;aACzC;QACH,CAAC;KAAA;CAEF;AAED;;;;;GAKG;AACH,SAAS,KAAK,CAAC,EAAU;IACvB,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;AACzD,CAAC;AAED,SAAS,IAAI,CAAC,CAAS;IACrB,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IACzB,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC;QAAE,OAAO,GAAG,GAAG,CAAC,CAAC;IAClC,OAAO,CAAC,CAAC;AACX,CAAC;AAED,MAAM,aAAa;IAIjB;QAFA,QAAG,GAAG,CAAC,CAAC;QAGN,IAAI,CAAC,GAAG,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IACD,KAAK;QACH,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;IACf,CAAC;IACD,GAAG;QACD,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IACrC,CAAC;IACD,MAAM;QACJ,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;QACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YACjC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI;gBAAE,EAAE,EAAE,CAAC;SACtD;QACD,MAAM,CAAC,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC;QAC7B,IAAI,EAAE,GAAG,CAAC,CAAC;QACX,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC;QACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YACjC,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,IAAI,IAAI,EAAE;gBACb,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC;gBACf,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC;aAChB;iBAAM,IAAI,CAAC,IAAI,IAAI,EAAE;gBACpB,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC;gBACf,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC;aAChB;iBAAM;gBACL,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;aACb;SACF;QACD,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC;QACf,OAAO,CAAC,CAAC;IACX,CAAC;IACD,QAAQ;QACN,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;QAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YACjC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI;gBAAE,EAAE,EAAE,CAAC;SAC/B;QACD,MAAM,CAAC,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC;QAC7B,IAAI,EAAE,GAAG,CAAC,CAAC;QACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YACjC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,IAAI,IAAI,EAAE;gBACb,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,IAAI,IAAI,EAAE;oBACb,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC;iBAChB;qBAAM,IAAI,CAAC,IAAI,IAAI,EAAE;oBACpB,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC;iBAChB;aACF;iBAAM;gBACL,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;aACb;SACF;QACD,OAAO,CAAC,CAAC;IACX,CAAC;IACO,MAAM,CAAC,CAAS;QACtB,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM;YAAE,OAAO;QAC5C,MAAM,IAAI,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;QACxE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACxC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACvB;QACD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;IAClB,CAAC;IACD,EAAE,CAAC,CAAS;QACV,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QACd,OAAO,IAAI,CAAC;IACd,CAAC;IACD,GAAG,CAAC,CAAS;QACX,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;QACzC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QACd,OAAO,IAAI,CAAC;IACd,CAAC;IACD,GAAG,CAAC,CAAS;QACX,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;QACzC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;QAC1C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;QAC1C,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QACd,OAAO,IAAI,CAAC;IACd,CAAC;IACD,MAAM,CAAC,CAAa;QAClB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACjC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/B;QACD,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC;QACrB,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAED,MAAM,cAAc;IAIlB,YAAmB,KAAa,EAAS,IAAgB;QAAtC,UAAK,GAAL,KAAK,CAAQ;QAAS,SAAI,GAAJ,IAAI,CAAY;QAHzD,QAAG,GAAG,CAAC,CAAC;QACR,WAAM,GAAG,CAAC,CAAC;QAGT,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAC5B,CAAC;IACD,EAAE;QACA,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5B,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QACd,OAAO,CAAC,CAAC;IACX,CAAC;IACD,GAAG;QACD,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QACd,OAAO,CAAC,CAAC;IACX,CAAC;IACD,GAAG;QACD,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QACjI,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QACd,OAAO,CAAC,CAAC;IACX,CAAC;CACF;AAED,MAAM,cAAc;IAOlB,YAAoB,IAAgB,EAAU,MAAoB,EAAU,QAA+B;QAAvF,SAAI,GAAJ,IAAI,CAAY;QAAU,WAAM,GAAN,MAAM,CAAc;QAAU,aAAQ,GAAR,QAAQ,CAAuB;QAN3G,cAAS,GAAY,KAAK,CAAC;QAC3B,eAAU,GAAyB,IAAI,CAAC;QACxC,WAAM,GAAmD,IAAI,CAAC;QAC9D,WAAM,GAAmD,IAAI,CAAC;QAC9D,SAAI,GAAa,MAAM,CAAC;IAEuF,CAAC;IAE1G,OAAO,CAAC,IAAc;;YAC1B,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,UAAU,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC,CAAC;YACzH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,wBAAwB,GAAG,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,CAAC;YAEpE,gFAAgF;YAChF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QACpC,CAAC;KAAA;IAEK,UAAU;;YACd,IAAI,CAAC,IAAI,CAAC,SAAS;gBAAE,OAAO;YAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;gBAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;aACpB;YAED,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;gBAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;aACpB;YAED,MAAM,IAAI,CAAC,UAAU,CAAC,CAAE,uCAAuC;YAC/D,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;QAC7C,CAAC;KAAA;IAED;;;OAGG;IACG,KAAK,CAAC,IAAgB;;YAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;YAC7C,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;YAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACrB,CAAC;KAAA;IAED;;OAEG;IACG,QAAQ;;YACZ,OAAO,IAAI,CAAC,SAAS,EAAE;gBACrB,IAAI;oBACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;oBAC7C,SAAU;wBACR,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;wBACjD,IAAI,KAAK,EAAE;4BACT,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;yBAC5B;wBACD,IAAI,IAAI,EAAE;4BACR,MAAM;yBACP;qBACF;oBACD,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;oBACjC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;oBAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;iBACpB;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;iBAClB;gBACD,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;aACtC;YACD,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACjC,CAAC;KAAA;IAEK,UAAU;;YACd,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,iBAAiB,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;YACtE,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,iBAAiB,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,CAAC;YACtE,MAAM,KAAK,CAAC,EAAE,CAAC,CAAC;QAClB,CAAC;KAAA;CACF;AAED,MAAM,SAAS;IAOb,YAA6B,IAAoB,EAAmB,KAAe,EAAU,QAA+B;QAA/F,SAAI,GAAJ,IAAI,CAAgB;QAAmB,UAAK,GAAL,KAAK,CAAU;QAAU,aAAQ,GAAR,QAAQ,CAAuB;QANpH,UAAK,GAAG,KAAK,CAAC;QACd,eAAU,GAAG,UAAU,CAAC,OAAO,CAAC;QAChC,WAAM,GAAkB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACrC,eAAU,GAAkB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAChD,aAAQ,GAAU,CAAC,CAAC;QA0I3B,oBAAe,GAAoB,IAAI,CAAC;IAvIxC,CAAC;IAEK,IAAI;;YACR,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;gBAC3B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,gBAAgB,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC;gBAE3D,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,UAAU,CAAC;oBACtD,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;oBACtB,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;oBAC9C,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;oBAC9C,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;oBAC9C,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;iBAAC,CAAC,CAAC,CAAC;gBACpD,IAAI,aAAa,GAAG,CAAC,CAAC;gBACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBAC1B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;oBACxD,IAAI,IAAI,KAAK,IAAI,EAAE;wBACjB,SAAS;qBACV;oBACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE;wBACtC,aAAa,EAAE,CAAC;qBACjB;iBACF;gBACD,IAAI,aAAa,GAAG,CAAC,EAAE;oBACrB,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,aAAa,GAAG,SAAS,CAAC,CAAC;oBACrD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;oBAClB,MAAM;iBACP;aACF;YACD,IAAI,CAAC,IAAI,CAAC,KAAK;gBAAE,OAAO,KAAK,CAAC;YAC9B,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC;YACjB,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;YAC5B,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3F,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBACrD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;gBAC7C,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;aACxF;YACD,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YAC7B,OAAO,IAAI,CAAC;QACd,CAAC;KAAA;IAEK,cAAc;;YAClB,MAAM,CAAC,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YAEzC,IAAI,CAAC,IAAI,UAAU,EAAE;gBACnB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,KAAK,CAAC;aACpC;iBAAM,IAAI,CAAC,IAAI,KAAK,EAAE;gBACrB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,OAAO,CAAC;aACtC;iBAAM,IAAI,CAAC,IAAI,UAAU,EAAE;gBAC1B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,OAAO,CAAC;aACtC;QACH,CAAC;KAAA;IAAA,CAAC;IAEI,UAAU;;YACd,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACxE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC1B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;aACvD;YAED,oEAAoE;YACpE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YAClD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAC3C,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;YACnD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;YACnD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YAClD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QAC7C,CAAC;KAAA;IAAA,CAAC;IAEI,OAAO,CAAC,GAAW;;YACvB,IAAI,CAAC,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,aAAa,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;YACrF,IAAI,CAAC,IAAI,IAAI,EAAE;gBACb,OAAO,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;gBACtC,OAAO,CAAC,CAAC;aACV;YACD,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC;gBAAE,OAAO,CAAC,CAAC,KAAK,CAAC;YACjC,OAAO,CAAC,CAAC;QACX,CAAC;KAAA;IAAA,CAAC;IAEI,WAAW,CAAC,IAAc;;YAC9B,OAAO,CAAC,GAAG,CAAC,6CAA6C,GAAG,IAAI,CAAC,CAAC;YAClE,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,mBAAmB,EAAE,IAAI,aAAa,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;YAC5F,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC;YAEjB,OAAO,CAAC,GAAG,CAAC,qCAAqC,GAAG,IAAI,CAAC,CAAC;YAC1D,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YAC7B,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAE9B,OAAO,CAAC,GAAG,CAAC,mDAAmD,GAAG,IAAI,CAAC,CAAC;YACxE,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,mBAAmB,EAAE,IAAI,aAAa,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;YAC5F,OAAO,CAAC,GAAG,CAAC,uBAAuB,GAAG,IAAI,CAAC,CAAC;QAC9C,CAAC;KAAA;IAEK,SAAS,CAAC,GAAe,EAAE,GAAW;;YAC1C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC,MAAM,GAAG,cAAc,GAAG,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;YACjF,MAAM,SAAS,GAAG,CAAC,CAAC;YACpB,MAAM,SAAS,GAAG,CAAC,IAAI,SAAS,CAAC;YACjC,MAAM,UAAU,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,SAAS,GAAG,CAAC,CAAC,IAAI,SAAS,CAAC;YAC7D,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,aAAa,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;YACpF,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,kBAAkB,EAAE,IAAI,aAAa,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;YACtJ,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,aAAa,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,KAAK,GAAG,UAAU,GAAG,SAAS,GAAG,OAAO,GAAG,GAAG,CAAC,CAAC;YAElL,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,SAAS,CAAC,CAAC;YACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,SAAS,EAAE;gBAC9C,IAAI,EAAE,GAAG,IAAI,CAAC;gBACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,EAAE,CAAC,EAAE;oBAClC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAChD,IAAI,CAAC,GAAG,IAAI,CAAC;oBACb,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE;wBACtB,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBAChB;oBACD,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;oBACb,EAAE,IAAI,CAAC,CAAC;iBACT;gBACD,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,aAAa,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;aACzI;YACD,wDAAwD;YACxD,+EAA+E;QACjF,CAAC;KAAA;IAEK,OAAO,CAAC,GAAY,EAAE,MAAkB,EAAE,WAAmB,CAAC,EAAE,UAAkB,IAAI;;YAC1F,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;YAC9C,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QACrC,CAAC;KAAA;IAEK,WAAW,CAAC,GAAY,EAAE,MAAkB,EAAE,WAAmB,CAAC;;YACtE,MAAM,CAAC,GAAG,IAAI,aAAa,EAAE,CAAC;YAC9B,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;YACX,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACV,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACrB,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAChB,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACjB,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;QACpC,CAAC;KAAA;IAAA,CAAC;IAGI,QAAQ,CAAC,GAAY,EAAE,OAAe;;YAC1C,MAAM,CAAC,GAAG,IAAI,OAAO,CAAoB,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7E,MAAM,CAAC,GAAG,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAgB,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;YACjE,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;YAClB,IAAI,CAAC,KAAK,IAAI,EAAE;gBACd,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;gBACjC,OAAO,IAAI,CAAC;aACb;YACD,YAAY,CAAC,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;gBACb,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,CAAC,CAAC,CAAC;gBAC9C,OAAO,IAAI,CAAC;aACb;YACD,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;gBACf,OAAO,CAAC,GAAG,CAAC,+BAA+B,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;gBACtD,OAAO,IAAI,CAAC;aACb;YACD,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE;gBACrB,OAAO,CAAC,GAAG,CAAC,6BAA6B,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;gBACzD,OAAO,IAAI,CAAC;aACb;YACD,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;YAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,OAAO,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,CAAC;KAAA;IAED,YAAY,CAAC,IAAgB;QAC3B,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,EAAE;YAChC,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,IAAI,CAAC,CAAC;SAChD;aAAM;YACL,IAAI,CAAC,eAAgB,CAAC,IAAI,CAAC,CAAC;SAC7B;IACH,CAAC;CACF;;;;;;;;;;;;AEtnBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebase: {\n    apiKey: \"AIzaSyD_JE_Iyh00ElVSGJHCm0-9B3l4H9fLnZc\",\n    authDomain: \"happy-plant-17512.firebaseapp.com\",\n    databaseURL: \"https://happy-plant-17512-default-rtdb.firebaseio.com\",\n    projectId: \"happy-plant-17512\",\n    storageBucket: \"happy-plant-17512.appspot.com\",\n    messagingSenderId: \"1039462456768\",\n    appId: \"1:1039462456768:web:c0a4ffd9b310f454a37c25\"\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\nimport { PlantService } from '../plant.service';\n\ninterface Dataset {\n  data: number[];\n  label: string;\n}\n\n@Component({\n  selector: 'app-line-chart',\n  templateUrl: './line-chart.component.html',\n  styleUrls: ['./line-chart.component.sass']\n})\nexport class LineChartComponent implements OnInit {\n\n  constructor(public plantService:PlantService) {\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<mat-card>\n  <canvas \n    baseChart\n    class=\"chart chart-line\"\n    chartType=\"line\"\n    [datasets]=\"plantService.sensorDataset\"\n    [labels]=\"plantService.timestampLogs\">\n  </canvas>\n</mat-card>","import { Component, OnInit, Input } from '@angular/core';\nimport { ChartOptions} from 'chart.js';\nimport { MultiDataSet, Label, Color } from 'ng2-charts';\n\n@Component({\n  selector: 'app-donut',\n  templateUrl: './donut.component.html',\n  styleUrls: ['./donut.component.sass']\n})\nexport class DonutComponent implements OnInit {\n\n  @Input() public donutColor: string;\n  public doughnutChartColors: Color[];\n  public doughnutChartLabels: Label[] = [];\n  public doughnutChartData: MultiDataSet = [[0, 0]];\n  public chartOptions: ChartOptions = {\n    tooltips: {\n      enabled: false\n    },\n    responsive: true\n  }\n\n  constructor() {\n    \n  }\n\n  @Input()\n  set donutValue(value:number) {\n    if(value !== null) {\n      const percentage = Math.round(this.mapToRange(value, 0, 4095, 0, 100));\n      const remaining = 100 - percentage;\n      this.doughnutChartData = [[percentage, remaining]];\n    }\n  }\n\n  private mapToRange(value, inMin, inMax, outMin, outMax):number {\n    return (value - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n  }\n\n  ngOnInit(): void {\n    this.doughnutChartColors = [\n      {backgroundColor:[this.donutColor, 'rgba(219, 219, 219, 1)']\n    }];\n  }\n\n}\n","<mat-card>\n      <canvas baseChart\n        [data]=\"doughnutChartData\"\n        [labels]=\"doughnutChartLabels\"\n        [options]=\"chartOptions\"\n        [legend]=false\n        [colors]=\"doughnutChartColors\"\n        chartType=\"doughnut\">\n      </canvas>\n</mat-card>","import { Component, OnInit } from '@angular/core';\nimport { WebespConfigService } from '../webesp-config.service';\nimport { WebespTerminalService } from '../webesp-terminal.service';\nimport { NavigationEnd, Router } from '@angular/router';\n\ninterface StreamTarget {\n  receive(data: Uint8Array): void;\n}\n\n// Supported commands. https://github.com/espressif/esptool/wiki/Serial-Protocol\nenum Command {\n  ESP_FLASH_BEGIN = 0x02,\n  ESP_FLASH_DATA = 0x03,\n  ESP_FLASH_END = 0x04,\n  ESP_MEM_BEGIN = 0x05,\n  ESP_MEM_END = 0x06,\n  ESP_MEM_DATA = 0x07,\n  ESP_SYNC = 0x08,\n  ESP_READ_REG = 0x0a,\n  ESP_SPI_SET_PARAMS = 0x0b,\n  ESP_SPI_ATTACH = 0x0d,\n  ESP_CHANGE_BAUDRATE = 0x0f,\n}\n\nenum ChipFamily {\n  UNKNOWN = 0,\n  ESP8266 = 1,\n  ESP32 = 2,\n  ESP32S2 = 3,\n}\nconst familyNames = ['Unknown', 'ESP8266', 'ESP32', 'ESP32S2'];\n\ntype BaudRate = 115200 | 230400 | 460800 | 921600;\n\n@Component({\n  selector: 'app-webesp',\n  templateUrl: './webesp.component.html',\n  styleUrls: ['./webesp.component.sass']\n})\nexport class WebespComponent implements OnInit {\n\n  static DEFAULT_BAUD: BaudRate = 115200;\n\n  public hideWifiPassword: boolean = true;\n  public hideFirebasePassword: boolean = true;\n\n  port: PortController | null = null;\n  private inFrame = false;\n  frame = new CommandWriter();\n  decoder = new TextDecoder();\n  loader: ESPLoader | null = null;\n\n  serialAvailable: Boolean = false;\n  constructor(public terminal: WebespTerminalService, public config:WebespConfigService, private router: Router) {\n    router.events.subscribe((event) => {\n      if ( event instanceof NavigationEnd ) {\n        this.onDisconnect();\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    if ('serial' in navigator) {\n      this.serialAvailable = true;\n    }\n  }\n\n  async onDisconnect() {\n    if (this.port !== null) {\n      await this.port.disconnect();\n      this.port = null;\n    }\n  }\n\n  async onConnect() {\n    try {\n      const p = await navigator.serial.requestPort();\n      console.log(p);\n      this.port = new PortController(p, this, this.terminal);\n\n      await this.port.connect(WebespComponent.DEFAULT_BAUD);\n    } catch (err) {\n      console.log('Port selection failed: ', err);\n    }\n  }\n\n  async onReset() {\n    this.terminal.print('reset');\n    await this.port!.resetPulse();\n  }\n\n  receive(data: Uint8Array) {\n    //inputBuffer.push(...value);\n    for (let i = 0; i < data.length; ++i) {\n      // Parse the value.\n      if (this.inFrame) {\n        if (data[i] == 0xc0) {\n          this.inFrame = false;\n          if (this.loader == null) {\n            console.log('Received unexpected frame', data);\n          } else {\n            this.loader!.receiveFrame(this.frame.unframed());\n          }\n        } else {\n          this.frame.u8(data[i]);\n        }\n      } else if (data[i] == 0xc0) {\n        // This may be the beginning of a framed packet.\n        this.inFrame = true;\n        this.frame.clear();\n      } else if (data[i] == 13) {\n        const str = this.decoder.decode(this.frame.get());\n        this.terminal.write(str);\n        this.frame.clear();\n        if (str == 'waiting for download') {\n          this.load();\n        }\n      } else if (data[i] != 10) {\n        this.frame.u8(data[i]);\n      }\n    }\n  }\n\n  async load() {\n    console.log('Starting sync');\n    const image = new ESPImage(this.terminal, this.config);\n    await image.load();\n    this.loader = new ESPLoader(this.port!, image, this.terminal);\n    await this.loader.sync();\n  }\n\n}\n\nclass Partition {\n  utf8Encoder = new TextEncoder();\n  utf8Decoder = new TextDecoder();\n  binary: Uint8Array = new Uint8Array(0);\n  placeholders: { [key: string]: number; } = {};\n\n  constructor(public readonly offset: number, public readonly filename: string, private terminal: WebespTerminalService, private config: WebespConfigService) {\n  }\n\n  async load(): Promise<boolean> {\n    this.binary = new Uint8Array(await (await fetch(this.filename)).arrayBuffer());\n    this.terminal.print('Loaded ' + this.filename);\n\n    const p = this.utf8Encoder.encode('PLACEHOLDER_FOR');\n    for (let k = 0; k < this.binary.length; ++k) {\n      let j = 0;\n      for (; j < p.length; ++j) {\n        if (this.binary[k + j] != p[j]) break;\n      }\n      if (j == p.length) {\n        // Found something.\n        const s = this.utf8Decoder.decode(this.binary.slice(k, k + 60));\n        const ss = s.split('*');\n        console.log(ss[0], s);\n        this.placeholders[ss[0]] = k;\n      }\n    }\n    return true;\n  }\n\n  private patch(off: number, str: string, len: number) {\n    const sb = this.utf8Encoder.encode(str);\n    for (let i = 0; i < sb.length; ++i) {\n      this.binary[off + i] = sb[i];\n    }\n    for (let i = sb.length; i < len; ++i) {\n      this.binary[off + i] = 0;\n    }\n  }\n\n  async sha256(buf: Uint8Array) {\n    const hashBuffer = await crypto.subtle.digest('SHA-256', buf.buffer);\n    return new Uint8Array(hashBuffer);\n  }\n\n  private async binChecksum() {\n    // Update checksum after applying patches.\n    const b = this.binary;\n    const segs = b[1];\n    let soff = 24;\n    let cs = 0xef;\n    for (let i = 0; i < segs; ++i) {\n      const sl = b[soff + 4] + (b[soff + 5] << 8) + (b[soff + 6] << 16) + (b[soff + 7] << 24);\n      for (let j = 0; j < sl; ++j) {\n        cs ^= b[soff + 8 + j];\n      }\n      soff += 8 + sl;\n    }\n    b[b.length - 33] = cs;\n\n    // Update sha256 hash of image,\n    const hash = await this.sha256(b.slice(0, b.length - 32));\n    for (let i = 0; i < hash.length; ++i) {\n      b[b.length - 32 + i] = hash[i];\n    }\n  }\n\n  async applyPatches() {\n    const placeholderMappding = this.config.getPlaceholderMapping();\n    if (this.placeholders.length == 0) return;\n    for (let k in this.placeholders) {\n      if(placeholderMappding.has(k)) {\n        const placeholderData = placeholderMappding.get(k);\n        this.patch(this.placeholders[k], placeholderData.value, placeholderData.length);\n      }\n    }\n    return this.binChecksum();\n  }\n}\n\nclass ESPImage {\n  partitions: Array<Partition> = [];\n\n  constructor(private terminal: WebespTerminalService, private config:WebespConfigService) { }\n\n  async load() {\n    this.partitions.push(new Partition(0x1000, 'assets/bin/bootloader.bin', this.terminal, this.config));\n    this.partitions.push(new Partition(0x8000, 'assets/bin/partition-table.bin', this.terminal, this.config));\n    this.partitions.push(new Partition(0x10000, 'assets/bin/app.bin', this.terminal, this.config));\n\n    for (let i = 0; i < this.partitions.length; ++i) {\n      await this.partitions[i].load();\n      await this.partitions[i].applyPatches();\n    }\n  }\n\n}\n\n/**\n * Asynchronous sleep helper function.\n * Typical usage in an async function would be\n *    await sleep(ms);\n * @param ms Time to sleep in milliseconds.\n */\nfunction sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nfunction hex2(v: number) {\n  const s = v.toString(16);\n  if (s.length == 1) return '0' + s;\n  return s;\n}\n\nclass CommandWriter {\n  buf: Uint8Array;\n  off = 0;\n\n  constructor() {\n    this.buf = new Uint8Array(1024);\n  }\n  clear() {\n    this.off = 0;\n  }\n  get() {\n    return this.buf.slice(0, this.off);\n  }\n  framed() {\n    let ol = this.off + 2;\n    for (let i = 0; i < this.off; ++i) {\n      if (this.buf[i] == 0xdb || this.buf[i] == 0xc0) ol++;\n    }\n    const o = new Uint8Array(ol);\n    let oo = 0;\n    o[oo++] = 0xc0;\n    for (let i = 0; i < this.off; ++i) {\n      const b = this.buf[i];\n      if (b == 0xdb) {\n        o[oo++] = 0xdb;\n        o[oo++] = 0xdd;\n      } else if (b == 0xc0) {\n        o[oo++] = 0xdb;\n        o[oo++] = 0xdc;\n      } else {\n        o[oo++] = b;\n      }\n    }\n    o[oo++] = 0xc0;\n    return o;\n  }\n  unframed() {\n    let ol = this.off;\n    for (let i = 0; i < this.off; ++i) {\n      if (this.buf[i] == 0xdb) ol--;\n    }\n    const o = new Uint8Array(ol);\n    let oo = 0;\n    for (let i = 0; i < this.off; ++i) {\n      let b = this.buf[i];\n      if (b == 0xdb) {\n        b = this.buf[++i];\n        if (b == 0xdd) {\n          o[oo++] = 0xdb;\n        } else if (b == 0xdc) {\n          o[oo++] = 0xc0;\n        }\n      } else {\n        o[oo++] = b;\n      }\n    }\n    return o;\n  }\n  private ensure(n: number) {\n    if (this.off + n <= this.buf.length) return;\n    const nbuf = new Uint8Array(((this.buf.length + n + 1023) >> 10) << 10);\n    for (let i = 0; i < this.buf.length; ++i) {\n      nbuf[i] = this.buf[i];\n    }\n    this.buf = nbuf;\n  }\n  u8(v: number) {\n    this.ensure(1);\n    this.buf[this.off] = v & 0xff;\n    this.off += 1;\n    return this;\n  }\n  u16(v: number) {\n    this.ensure(2);\n    this.buf[this.off] = v & 0xff;\n    this.buf[this.off + 1] = (v >> 8) & 0xff;\n    this.off += 2;\n    return this;\n  }\n  u32(v: number) {\n    this.ensure(4);\n    this.buf[this.off] = v & 0xff;\n    this.buf[this.off + 1] = (v >> 8) & 0xff;\n    this.buf[this.off + 2] = (v >> 16) & 0xff;\n    this.buf[this.off + 3] = (v >> 24) & 0xff;\n    this.off += 4;\n    return this;\n  }\n  buffer(b: Uint8Array) {\n    this.ensure(b.length);\n    for (let i = 0; i < b.length; ++i) {\n      this.buf[this.off + i] = b[i];\n    }\n    this.off += b.length;\n    return this;\n  }\n}\n\nclass ResponseReader {\n  off = 0;\n  length = 0;\n\n  constructor(public value: number, public data: Uint8Array) {\n    this.length = data.length;\n  }\n  u8(): number {\n    let v = this.data[this.off];\n    this.off += 1;\n    return v;\n  }\n  u16(): number {\n    let v = this.data[this.off] + (this.data[this.off + 1] << 8);\n    this.off += 2;\n    return v;\n  }\n  u32(): number {\n    let v = this.data[this.off] + (this.data[this.off + 1] << 8) + (this.data[this.off + 2] << 16) + (this.data[this.off + 3] << 24);\n    this.off += 4;\n    return v;\n  }\n}\n\nclass PortController {\n  connected: boolean = false;\n  portReader: Promise<void> | null = null;\n  reader: ReadableStreamDefaultReader<Uint8Array> | null = null;\n  writer: WritableStreamDefaultWriter<Uint8Array> | null = null;\n  rate: BaudRate = 115200;\n\n  constructor(private port: SerialPort, private target: StreamTarget, private terminal: WebespTerminalService) { }\n\n  async connect(rate: BaudRate) {\n    await this.port.open({ baudRate: rate, dataBits: 8, stopBits: 1, bufferSize: 255, parity: 'none', flowControl: 'none' });\n    this.connected = true;\n    this.rate = rate;\n    this.terminal.print(\"Serial port opened at \" + this.rate + \" bps.\");\n\n    // Start the read loop, keep the promise so we can check later for termination. \n    this.portReader = this.readLoop();\n  }\n\n  async disconnect() {\n    if (!this.connected) return;\n    this.connected = false;\n    if (this.reader) {\n      await this.reader.cancel();\n      this.reader = null;\n    }\n\n    if (this.writer) {\n      await this.writer.close();\n      this.writer = null;\n    }\n\n    await this.portReader;  // Wait for the read loop to terminate.\n    await this.port.close();\n    this.terminal.print(\"Serial port closed.\");\n  }\n\n  /**\n   * Writes the provided data to the port.\n   * @param data Byte array to write.\n   */\n  async write(data: Uint8Array) {\n    this.writer = this.port.writable.getWriter();\n    await this.writer.write(data);\n    this.writer.releaseLock();\n    this.writer = null;\n  }\n\n  /**\n   * Reads from the serial port until something happens.\n   */\n  async readLoop() {\n    while (this.connected) {\n      try {\n        this.reader = this.port.readable.getReader();\n        for (; ;) {\n          const { value, done } = await this.reader.read();\n          if (value) {\n            this.target.receive(value);\n          }\n          if (done) {\n            break;\n          }\n        }\n        console.log('Releasing reader.');\n        this.reader.releaseLock();\n        this.reader = null;\n      } catch (e) {\n        console.error(e);\n      }\n      console.log('Restarting read loop.');\n    }\n    console.log('Left read loop.');\n  }\n\n  async resetPulse() {\n    this.port.setSignals({ dataTerminalReady: false, readyToSend: true });\n    await sleep(100);\n    this.port.setSignals({ dataTerminalReady: true, readyToSend: false });\n    await sleep(50);\n  }\n}\n\nclass ESPLoader {\n  private ready = false;\n  private chipFamily = ChipFamily.UNKNOWN;\n  private eFuses: Array<number> = [0, 0, 0, 0];\n  private macAddress: Array<number> = [0, 0, 0, 0, 0, 0];\n  public progress:number = 0;\n\n  constructor(private readonly port: PortController, private readonly image: ESPImage, private terminal: WebespTerminalService) {\n  }\n\n  async sync() {\n    for (let i = 0; i < 10; i++) {\n      this.terminal.print(\"Sync attempt #\" + (i + 1) + \" of 10\");\n\n      await this.sendCommand(Command.ESP_SYNC, new Uint8Array([\n        0x07, 0x07, 0x12, 0x20,\n        0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55,\n        0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55,\n        0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55,\n        0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55]));\n      let responseCount = 0;\n      for (let j = 0; j < 8; ++j) {\n        const data = await this.response(Command.ESP_SYNC, 100);\n        if (data === null) {\n          continue;\n        }\n        if (data.length > 1 && data.u16() == 0) {\n          responseCount++;\n        }\n      }\n      if (responseCount > 0) {\n        console.log('Received ' + responseCount + ' frames');\n        this.ready = true;\n        break;\n      }\n    }\n    if (!this.ready) return false;\n    await sleep(100);\n    await this.readChipFamily();\n    await this.readEfuses();\n    this.terminal.print('Chip family: ' + familyNames[this.chipFamily]);\n    this.terminal.print('MAC Address: ' + this.macAddress.map(value => hex2(value)).join(\":\"));\n    for (let i = 0; i < this.image.partitions.length; ++i) {\n      this.terminal.print('Flashing section ' + i);\n      await this.flashData(this.image.partitions[i].binary, this.image.partitions[i].offset);\n    }\n    await this.port.resetPulse();\n    return true;\n  }\n\n  async readChipFamily() {\n    const r = await this.readReg(0x60000078);\n\n    if (r == 0x15122500) {\n      this.chipFamily = ChipFamily.ESP32;\n    } else if (r == 0x500) {\n      this.chipFamily = ChipFamily.ESP32S2;\n    } else if (r == 0x00062000) {\n      this.chipFamily = ChipFamily.ESP8266;\n    }\n  };\n\n  async readEfuses() {\n    let baseAddr = [0, 0x3FF00050, 0x6001A000, 0x6001A000][this.chipFamily];\n    for (let i = 0; i < 4; i++) {\n      this.eFuses[i] = await this.readReg(baseAddr + 4 * i);\n    }\n\n    // Parse MAC Address out of fuses, this is valid for ESP32 / ESP32S2\n    this.macAddress[0] = (this.eFuses[2] >> 8) & 0xff;\n    this.macAddress[1] = this.eFuses[2] & 0xff;\n    this.macAddress[2] = (this.eFuses[1] >> 24) & 0xff;\n    this.macAddress[3] = (this.eFuses[1] >> 16) & 0xff;\n    this.macAddress[4] = (this.eFuses[1] >> 8) & 0xff;\n    this.macAddress[5] = this.eFuses[1] & 0xff;\n  };\n\n  async readReg(reg: number) {\n    let r = await this.command(Command.ESP_READ_REG, new CommandWriter().u32(reg).get());\n    if (r == null) {\n      console.error(\"No response received\");\n      return 0;\n    }\n    if (r.u32() == 0) return r.value;\n    return 0;\n  };\n\n  async setBaudrate(rate: BaudRate) {\n    console.log(\"Sending baud rate change command to ESP32: \" + rate);\n    await this.command(Command.ESP_CHANGE_BAUDRATE, new CommandWriter().u32(rate).u32(0).get());\n    await sleep(500);\n\n    console.log(\"Changing serial port baud rate to: \" + rate);\n    await this.port.disconnect();\n    await this.port.connect(rate);\n\n    console.log(\"Sending baud rate change command to ESP32 again: \" + rate);\n    await this.command(Command.ESP_CHANGE_BAUDRATE, new CommandWriter().u32(rate).u32(0).get());\n    console.log(\"Changed baud rate to \" + rate);\n  }\n\n  async flashData(buf: Uint8Array, off: number) {\n    this.terminal.print('Writing ' + buf.length + ' bytes to 0x' + off.toString(16));\n    const blockBits = 9;\n    const blockSize = 1 << blockBits;\n    const blockCount = (buf.length + blockSize - 1) >> blockBits;\n    await this.command(Command.ESP_SPI_ATTACH, new CommandWriter().u32(0).u32(0).get());\n    await this.command(Command.ESP_SPI_SET_PARAMS, new CommandWriter().u32(0).u32(4 * 1024 * 1024).u32(0x10000).u32(0x1000).u32(0x100).u32(0xffff).get());\n    await this.command(Command.ESP_FLASH_BEGIN, new CommandWriter().u32(buf.length).u32(blockCount).u32(blockSize).u32(off).get(), 0, 30000 * blockCount * blockSize / 1000000 + 500);\n\n    const block = new Uint8Array(blockSize);\n    for (let o = 0; o < buf.length; o += blockSize) {\n      let cs = 0xef;\n      for (let i = 0; i < blockSize; ++i) {\n        this.progress = Math.ceil(100 * o / buf.length);\n        let v = 0xff;\n        if (o + i < buf.length) {\n          v = buf[o + i];\n        }\n        block[i] = v;\n        cs ^= v;\n      }\n      await this.command(Command.ESP_FLASH_DATA, new CommandWriter().u32(blockSize).u32(o / blockSize).u32(0).u32(0).buffer(block).get(), cs);\n    }\n    // Do not send this, since we want to continue flashing.\n    // await this.command(Command.ESP_FLASH_END, new CommandWriter().u32(1).get());\n  }\n\n  async command(cmd: Command, buffer: Uint8Array, checksum: number = 0, timeout: number = 2000): Promise<ResponseReader | null> {\n    await this.sendCommand(cmd, buffer, checksum);\n    return this.response(cmd, timeout);\n  }\n\n  async sendCommand(cmd: Command, buffer: Uint8Array, checksum: number = 0) {\n    const s = new CommandWriter();\n    s.u8(0x00);\n    s.u8(cmd);\n    s.u16(buffer.length);\n    s.u32(checksum);\n    s.buffer(buffer);\n    await this.port.write(s.framed());\n  };\n\n  resolveResponse: Function | null = null;\n  async response(cmd: Command, timeout: number): Promise<ResponseReader | null> {\n    const p = new Promise<Uint8Array | null>(r => { this.resolveResponse = r; });\n    const t = setTimeout(() => this.resolveResponse!(null), timeout);\n    const r = await p;\n    if (r === null) {\n      console.log('Command timed out');\n      return null;\n    }\n    clearTimeout(t);\n    if (r[0] != 1) {\n      console.log('Frame does not start with 1', r);\n      return null;\n    }\n    if (r[1] != cmd) {\n      console.log('Frame does not match command ' + cmd, r);\n      return null;\n    }\n    const l = r[2] + (r[3] << 8);\n    if (l + 8 != r.length) {\n      console.log('Frame does not have length ' + r.length, r);\n      return null;\n    }\n    const v = r[4] + (r[5] << 8) + (r[6] << 16) + (r[7] << 24);\n    this.resolveResponse = null;\n    return new ResponseReader(v, r.slice(8));\n  }\n\n  receiveFrame(data: Uint8Array) {\n    if (this.resolveResponse == null) {\n      console.log('Received unexpected frame', data);\n    } else {\n      this.resolveResponse!(data);\n    }\n  }\n}","<div *ngIf=\"serialAvailable\" class=\"webesp-container\">\n  <app-webesp-config></app-webesp-config>\n  <mat-card class=\"webesp-connection\">\n    <button *ngIf=\"!port\" mat-raised-button color=\"primary\"(click)=\"onConnect()\">Connect</button>\n    <button *ngIf=\"port && port.connected\" mat-raised-button color=\"primary\"(click)=\"onDisconnect()\">Disconnect</button>\n    <button *ngIf=\"port && port.connected\" mat-raised-button color=\"accent\"(click)=\"onReset()\">Reset / Flash</button>\n    <div *ngIf=\"loader\" class=\"progress\">\n      <mat-progress-bar mode=\"determinate\" color=\"accent\" [value]=\"loader.progress\"></mat-progress-bar>\n      Flashing: {{loader.progress}} %\n    </div>\n  </mat-card>\n  <mat-card>\n    <app-webesp-terminal></app-webesp-terminal>\n  </mat-card>\n</div>\n<div *ngIf=\"!serialAvailable\">Serial not available, try the latest Chrome version.</div>","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Injectable } from '@angular/core';\n\nenum LogOrigin {\n  WEB_ESP = 0,\n  ESP = 1\n}\ninterface LogEntry {\n  timestamp: number;\n  origin: LogOrigin; \n  value: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WebespTerminalService {\n\n  private maxLogs:number = 200;\n  private sequences : {[key:string]:string}= {\n    '[0;32m': '<span style=\"color:#0c0;\">',\n    '[0;33m': '<span style=\"color:#cc0;\">',\n    '[0m': '</span>',\n  }\n  logs:LogEntry[] = [];\n\n  constructor() { }\n\n  write(a: string) {\n    let s = \"\";\n    for (let i = 0; i < a.length; ++i) {\n      // This is kind of crappy, since it assumes that everything is kind of well formed.\n      if (a.charCodeAt(i) == 27) {\n        for (const k in this.sequences) {\n          if (a.substr(i+1, k.length) == k) {\n            s += this.sequences[k]; \n            i += k.length;\n          }\n        }\n      } else {\n        s += a[i];\n      }\n    }\n    this.logs.unshift({value: s, origin: LogOrigin.ESP, timestamp: new Date().getTime()});\n    this.truncateTerminal();\n  }\n\n  print(s: string) {\n    this.logs.unshift({value: s, origin: LogOrigin.WEB_ESP, timestamp: new Date().getTime()});\n    this.truncateTerminal();\n  }\n\n  private truncateTerminal() {\n    if(this.logs.length > this.maxLogs) {\n      this.logs = this.logs.slice(0, this.maxLogs);\n    }\n  }\n\n}\n","<mat-toolbar color=\"primary\" class=\"mat-elevation-z6 main-toolbar\">\n  <button mat-button [routerLink]=\"['']\">\n    <span class=\"material-icons\">local_florist</span>\n    Dashboard\n  </button>\n  <button mat-button [routerLink]=\"['webesp']\">\n    <span class=\"material-icons\">\n      cable\n    </span>\n    Programmer\n  </button>\n  <span class=\"navbar-spacer\"></span>\n  <button mat-raised-button color=\"accent\" *ngIf=\"auth.user | async as user;\" (click)=\"logout()\">\n    Logout\n  </button>\n  <button mat-raised-button >\n    GitHub\n  </button>\n</mat-toolbar>\n<router-outlet></router-outlet>","import { Component } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.sass']\n})\nexport class AppComponent {\n  title = 'plant-monitor';\n  constructor(public auth: AngularFireAuth, private router: Router) {\n  }\n\n  logout() {\n    this.auth.signOut().then(() => {\n      this.router.navigate(['login']);\n    });\n  }\n}\n","<div class=\"log-entry\" *ngFor=\"let logEntry of terminal.logs\">\n  {{logEntry.value}}\n</div>","import { Component, OnInit } from '@angular/core';\nimport { WebespTerminalService } from '../webesp-terminal.service';\n\n@Component({\n  selector: 'app-webesp-terminal',\n  templateUrl: './webesp-terminal.component.html',\n  styleUrls: ['./webesp-terminal.component.sass']\n})\nexport class WebespTerminalComponent implements OnInit {\n\n  terminal:WebespTerminalService;\n  constructor(terminalService:WebespTerminalService) {\n    this.terminal = terminalService;\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { PlantService } from '../plant.service';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { FormControl, FormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'app-plant-monitor-dashboard',\n  templateUrl: './plant-monitor-dashboard.component.html',\n  styleUrls: ['./plant-monitor-dashboard.component.sass']\n})\nexport class PlantMonitorDashboardComponent implements OnInit {\n\n  constructor(public plantService:PlantService, public dialog: MatDialog) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  openDialog(): void {\n    const dialogRef = this.dialog.open(DialogPlantConfigDialog);\n\n    dialogRef.afterClosed().subscribe(result => {\n      console.log('The dialog was closed');\n    });\n  }\n\n}\n\n@Component({\n  selector: 'dialog-plant-config-dialog',\n  templateUrl: 'dialog-plant-config.html',\n})\nexport class DialogPlantConfigDialog {\n\n  plantConfigForm = new FormGroup ({ \n    name: new FormControl(),\n    tts: new FormControl()\n  });\n  constructor(public dialogRef: MatDialogRef<DialogPlantConfigDialog>, public plantService:PlantService) {\n    this.plantConfigForm = new FormGroup ({ \n      name: new FormControl(this.plantService?.plantConfig?.name),\n      tts: new FormControl(this.plantService?.plantConfig?.tts)\n    });\n  }\n\n  onCancelClick(): void {\n    this.dialogRef.close();\n  }\n\n  onSaveClick(): void {\n    const config = this.plantConfigForm.value;\n    console.log(config);\n    this.plantService.savePlantConfig(config);\n    this.dialogRef.close();\n  }\n\n}","<!-- <h1 *ngIf=\"ready\">{{(plant$ | async)?.last_update | json}}</h1> -->\n<div class=\"plant-monitor-dashboard\">\n  <mat-card class=\"plant-config\">\n    <mat-card-header>\n      <button mat-card-avatar mat-flat-button mat-mini-fab color=\"primary\" aria-label=\"Config\" (click)=\"openDialog()\">\n        <mat-icon>settings</mat-icon>\n      </button>\n      <mat-card-title>{{plantService?.plantConfig?.name ? plantService?.plantConfig?.name : plantService?.activePlant}}</mat-card-title>\n      <mat-card-subtitle class=\"last-update\">Last Update: {{plantService?.lastUpdate?.timestamp*1000| date:\"dd-MM-yyyy HH:mm:ss\":\"+0000\"}}</mat-card-subtitle>\n    </mat-card-header>\n  </mat-card>\n  <app-donut\n    class=\"donut-water\"\n    donutValue=\"{{ plantService?.lastUpdate?.water }}\"\n    donutColor=\"rgba(62, 192, 247, 1)\">\n  </app-donut>\n  <app-donut\n    class=\"donut-light\"\n    donutValue=\"{{ plantService?.lastUpdate?.light }}\"\n    donutColor=\"rgba(252, 239, 93, 1)\">\n  </app-donut>\n  <app-line-chart\n    class=\"time-series\">\n  </app-line-chart>\n</div>\n","<h1 mat-dialog-title>Plant Settings</h1>\n<div mat-dialog-content>\n  <form [formGroup]=\"plantConfigForm\" (ngSubmit)=\"onSaveClick()\">\n    <p>\n      <mat-form-field class=\"form-field\">\n        <mat-label>Plant Name</mat-label>\n        <input matInput formControlName=\"name\">\n      </mat-form-field>\n    </p>\n    <p>\n      <mat-form-field class=\"form-field\">\n        <mat-label>Time to Sleep</mat-label>\n        <input type=\"number\" min=\"10\" matInput formControlName=\"tts\">\n      </mat-form-field>\n    </p>\n  </form>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onCancelClick()\">Cancel</button>\n  <button mat-button cdkFocusInitial (click)=\"onSaveClick()\">Save</button>\n</div>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatIconModule } from '@angular/material/icon';\nimport { LoginComponent } from './login/login.component';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { AngularFireModule } from '@angular/fire';\nimport { environment } from '../environments/environment';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { PlantMonitorComponent } from './plant-monitor/plant-monitor.component';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { MatListModule } from '@angular/material/list';\nimport { PlantMonitorDashboardComponent, DialogPlantConfigDialog } from './plant-monitor-dashboard/plant-monitor-dashboard.component';\nimport { ChartsModule } from 'ng2-charts';\nimport { DonutComponent } from './donut/donut.component';\nimport { WebespComponent } from './webesp/webesp.component';\nimport { WebespTerminalComponent } from './webesp-terminal/webesp-terminal.component';\nimport { LineChartComponent } from './line-chart/line-chart.component';\nimport { WebespConfigComponent } from './webesp-config/webesp-config.component';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatDialogModule } from '@angular/material/dialog';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    PlantMonitorComponent,\n    PlantMonitorDashboardComponent,\n    DonutComponent,\n    WebespComponent,\n    WebespTerminalComponent,\n    LineChartComponent,\n    WebespConfigComponent,\n    DialogPlantConfigDialog \n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatCardModule,\n    MatGridListModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSnackBarModule,\n    MatSidenavModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    LayoutModule,\n    MatListModule,\n    ChartsModule,\n    ReactiveFormsModule,\n    MatSlideToggleModule,\n    MatExpansionModule,\n    MatProgressBarModule,\n    MatDialogModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { PlantService } from '../plant.service';\n\n\n@Component({\n  selector: 'app-plant-monitor',\n  templateUrl: './plant-monitor.component.html',\n  styleUrls: ['./plant-monitor.component.sass']\n})\nexport class PlantMonitorComponent implements OnInit {\n\n  isHandset$: Observable<boolean> = this.breakpointObserver.observe(Breakpoints.Handset)\n    .pipe(\n      map(result => result.matches),\n      shareReplay()\n    );\n\n  constructor(private breakpointObserver: BreakpointObserver, public plantService:PlantService) {\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  activatePlant(plantID:string) {\n    this.plantService.activePlant = plantID;\n  }\n\n}\n","<div class=\"plant-monitor-container\">\n  <mat-toolbar color=\"primary\" class=\"plant-monitor-header\">\n    <button mat-icon-button (click)=\"drawer.toggle()\">\n      <mat-icon>menu</mat-icon>\n    </button>\n    <h1>Plant Monitor</h1>\n  </mat-toolbar>\n  <mat-sidenav-container class=\"sidenav-container\" autosize>\n    <mat-sidenav #drawer class=\"sidenav\" fixedTopGap=\"136\"\n        [attr.role]=\"(isHandset$ | async) ? 'dialog' : 'navigation'\"\n        [mode]=\"(isHandset$ | async) ? 'over' : 'side'\"\n        [opened]=\"(isHandset$ | async) === false\">\n      <mat-nav-list>\n        <a \n          mat-list-item \n          *ngFor=\"let plant of plantService.plants | keyvalue\" \n          [ngClass]=\"{activePlant: plant.key === plantService.activePlant}\"\n          (click)=\"activatePlant(plant.key)\">\n          {{plant.value?.config?.name ? plant.value.config.name : plant.key}}\n        </a>\n      </mat-nav-list>\n    </mat-sidenav>\n    <mat-sidenav-content>\n      <app-plant-monitor-dashboard></app-plant-monitor-dashboard>\n    </mat-sidenav-content>\n  </mat-sidenav-container>\n</div>","<form class=\"esp-config-form\" [formGroup]=\"config.espConfigForm\">\n  <mat-accordion class=\"headers-align\" multi>\n    <mat-expansion-panel>\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          WiFi Configuration\n        </mat-panel-title>\n        <mat-panel-description>\n          WiFi SSID and Password\n          <mat-icon>wifi</mat-icon>\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n      <mat-form-field class=\"formfield half-width\">\n        <mat-label>WiFi SSID</mat-label>\n        <input matInput placeholder=\"Wifi SSID\" formControlName=\"wifiSSID\">\n      </mat-form-field>\n      <mat-form-field class=\"formfield half-width\">\n        <mat-label>Wifi Password</mat-label>\n        <input matInput type=\"password\" placeholder=\"WiFi Password\" formControlName=\"wifiPassword\">\n      </mat-form-field>\n    </mat-expansion-panel>\n    <mat-expansion-panel>\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          Firebase Configuration\n        </mat-panel-title>\n        <mat-panel-description>\n          Authentication and Firebase App\n          <mat-icon>storage</mat-icon>\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n      <mat-form-field class=\"formfield half-width\">\n        <mat-label>Firebase Username</mat-label>\n        <input matInput placeholder=\"Firebase Username\" formControlName=\"firebaseUsername\">\n      </mat-form-field>\n      <mat-form-field class=\"formfield half-width\">\n        <mat-label>Firebase Password</mat-label>\n        <input matInput type=\"password\" placeholder=\"Firebase Password\" formControlName=\"firebasePassword\">\n      </mat-form-field>\n      <mat-slide-toggle [checked]=\"config.customFirebaseHosting\" (change)=\"config.customFirebaseHosting = !config.customFirebaseHosting\" class=\"formfield\">Custom Firebase Hosting</mat-slide-toggle>\n      <br />\n      <mat-form-field *ngIf=\"config.customFirebaseHosting\" class=\"formfield half-width\">\n        <mat-label>Firebase Host</mat-label>\n        <input matInput placeholder=\"Firebase Host\"formControlName=\"firebaseHost\">\n      </mat-form-field>\n      <mat-form-field *ngIf=\"config.customFirebaseHosting\" class=\"formfield half-width\">\n        <mat-label>Firebase API Key</mat-label>\n        <input matInput placeholder=\"Firebase API Key\" formControlName=\"firebaseAPIKey\">\n      </mat-form-field>\n    </mat-expansion-panel>\n  </mat-accordion>\n</form>","import { Component, OnInit } from '@angular/core';\nimport { WebespConfigService } from '../webesp-config.service';\n\n@Component({\n  selector: 'app-webesp-config',\n  templateUrl: './webesp-config.component.html',\n  styleUrls: ['./webesp-config.component.sass']\n})\nexport class WebespConfigComponent implements OnInit {\n\n  constructor(public config:WebespConfigService) { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\n\ninterface PlaceHolderMapping {\n  length: number;\n  value: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WebespConfigService {\n\n  customFirebaseHosting: boolean = false;\n  espConfigForm = new FormGroup ({ \n    wifiSSID: new FormControl(),\n    wifiPassword: new FormControl(),\n    firebaseUsername: new FormControl(),\n    firebasePassword: new FormControl(),\n    firebaseHost: new FormControl('happy-plant-17512-default-rtdb.firebaseio.com'),\n    firebaseAPIKey: new FormControl('AIzaSyD_JE_Iyh00ElVSGJHCm0-9B3l4H9fLnZc')\n  });\n\n  constructor() { }\n\n  getConfig() {\n    return this.espConfigForm.value;\n  }\n\n  getPlaceholderMapping():Map<string, PlaceHolderMapping> {\n    const config = this.espConfigForm.value;\n    return new Map([\n      ['PLACEHOLDER_FOR_WIFI_SSID', {length: 30, value:config.wifiSSID}],\n      ['PLACEHOLDER_FOR_WIFI_PASSWORD', {length: 60, value:config.wifiPassword}],\n      ['PLACEHOLDER_FOR_DATABASE_URL', {length: 120, value:config.firebaseHost}],\n      ['PLACEHOLDER_FOR_API_KEY', {length: 60, value:config.firebaseAPIKey}],\n      ['PLACEHOLDER_FOR_USERNAME', {length: 60, value:config.firebaseUsername}],\n      ['PLACEHOLDER_FOR_FIREBASE_PASSWORD', {length: 60, value:config.firebasePassword}],\n    ]);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\nimport { WebespComponent } from './webesp/webesp.component';\nimport { PlantMonitorComponent } from './plant-monitor/plant-monitor.component';\nimport { AngularFireAuthGuard, redirectUnauthorizedTo, redirectLoggedInTo, canActivate } from '@angular/fire/auth-guard';\n\nconst redirectUnauthorizedToLogin = () => redirectUnauthorizedTo(['login']);\nconst redirectLoggedInToMonitor = () => redirectLoggedInTo([''])\n\nconst routes: Routes = [\n  {path: '', component:PlantMonitorComponent, ...canActivate(redirectUnauthorizedToLogin)},\n  {path: 'login', component: LoginComponent, ...canActivate(redirectLoggedInToMonitor)},\n  {path: 'webesp', component: WebespComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Router } from '@angular/router';\nimport { FormControl, FormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.sass']\n})\nexport class LoginComponent implements OnInit {\n\n  hide = true;\n  loginForm = new FormGroup ({ \n    username: new FormControl(),\n    password: new FormControl()\n  });\n\n  constructor(public auth: AngularFireAuth, private _snackBar: MatSnackBar, private router: Router) { }\n\n  ngOnInit(): void {}\n\n  login():void {\n    const credentials = this.loginForm.value;\n    this.auth.signInWithEmailAndPassword(credentials.username, \n      credentials.password)\n    .then(() => {\n      this.router.navigate(['']);\n    })\n    .catch((reason) => {\n      this._snackBar.open(reason?.message);\n    });\n  }\n  \n  createAccount():void {\n    const credentials = this.loginForm.value;\n    console.log('Create account');\n    this.auth.createUserWithEmailAndPassword(credentials.username, credentials.password)\n    .then((user) => {\n      this.router.navigate(['']);\n    })\n    .catch((reason) => {\n      this._snackBar.open(reason?.message);\n    })\n  }\n\n}\n","<mat-grid-list cols=\"1\" rows=\"1\" rowHeight=\"2:1\">\n  <mat-grid-tile>\n    <form [formGroup]=\"loginForm\" (ngSubmit)=\"login()\">\n      <mat-card class=\"login-card mat-elevation-z4\">\n        <mat-card-header>\n          <div mat-card-avatar class=\"header-image\"></div>\n          <mat-card-title>Login</mat-card-title>\n          <mat-card-subtitle>Plant Monitor</mat-card-subtitle>\n        </mat-card-header>\n        <mat-card-content>\n          <p>\n            <mat-form-field class=\"form-field\">\n              <mat-label>Enter your email</mat-label>\n              <input #username matInput formControlName=\"username\">\n            </mat-form-field>\n          </p>\n          <p>\n            <mat-form-field class=\"form-field\">\n              <mat-label>Enter your password</mat-label>\n              <input #password matInput [type]=\"hide ? 'password' : 'text'\"  formControlName=\"password\">\n              <button mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\" [attr.aria-pressed]=\"hide\">\n              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n              </button>\n            </mat-form-field>\n          </p>\n        </mat-card-content>\n        <mat-card-actions>\n          <button mat-raised-button color=\"primary\"(click)=\"login()\">LOGIN</button>\n          <button mat-raised-button color=\"accent\"(click)=\"createAccount()\">Create Account</button>\n        </mat-card-actions>\n      </mat-card>\n    </form>\n  </mat-grid-tile>\n</mat-grid-list>","import { Injectable, Input, EventEmitter } from '@angular/core';\nimport { AngularFireDatabase, AngularFireObject, AngularFireList, snapshotChanges } from '@angular/fire/database';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { DataSnapshot } from '@angular/fire/database/interfaces';\n\nexport interface Plants {\n  [key: string]:Plant;\n}\n\nexport interface Plant {\n  last_update: PlantStatus;\n  logs: {[key: string]: PlantStatus};\n  config: PlantConfig;\n}\n\nexport interface PlantStatus {\n  water: number;\n  light: number;\n  timestamp: number;\n}\n\ninterface SensorConfig {\n  min: number;\n  max: number;\n}\n\ninterface SensorData {\n  data: number[];\n  label: string;\n  borderColor?: string\n  backgroundColor?: string;\n  pointBackgroundColor?: string;\n  pointBorderColor?: string;\n  pointHoverBackgroundColor?: string;\n  pointHoverBorderColor?: string;\n}\n\ninterface PlantConfig {\n  name?: string;\n  tts?: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlantService {\n\n  userID: string = '';\n  plants: Plants;\n  lastUpdate: PlantStatus;\n  logs:PlantStatus[] = [];\n  sensorDataset:SensorData[];\n  timestampLogs:string[] = [];\n  plantConfig:PlantConfig = {};\n\n  public lightConfig:SensorConfig = {\n    min: 0,\n    max: 4095\n  }\n  public waterConfig:SensorConfig = {\n    min: 0,\n    max: 4095\n  }\n\n  private activePlantID: string;\n  private db:AngularFireDatabase;\n  private plantConfigRef:AngularFireObject<PlantConfig>;\n  private lastUpdateSubscription:AngularFireObject<PlantStatus>;\n  private logsSubscription:AngularFireList<{[key: string]: PlantStatus}>;\n\n  constructor(auth: AngularFireAuth, db: AngularFireDatabase) {\n    this.sensorDataset = [{\n      data:[],\n      label: 'water'\n    },{\n      data: [],\n      borderColor: \"#e755ba\",\n      label: 'light'\n    }];\n    this.db = db;\n    auth.currentUser.then(user => {\n      this.userID = user.uid;\n      console.log(user);\n      db.list(`${this.userID}/plants`).query.once(\"value\").then(data => {\n        this.plants = data.val();\n        console.log(this.plants);\n        this.activePlant = Object.keys(this.plants)[0];\n      });\n   });\n  }\n\n  @Input() \n  set activePlant(plantID:string) {\n    if(plantID && plantID !== this.activePlantID) {\n      this.activePlantID = plantID;\n      this.setDatabaseSubscriptions();\n    }\n  }\n\n  get activePlant():string {\n    return this.activePlantID;\n  }\n\n  private map(num:number, inMin:number, inMax:number, outMin:number, outMax:number): number {\n    return Math.round((num - inMin) * (outMax - outMin) / (inMax - inMin) + outMin);\n  }\n\n  private getDateTimeValue(entry:PlantStatus):string {\n    return new Date(entry?.timestamp * 1000).toLocaleString();\n  }\n\n  private getWaterValue(entry:PlantStatus):number {\n    return this.map(entry?.water, this.waterConfig.min,\n      this.waterConfig.max, 100, 0);\n  }\n\n  private getLightValue(entry:PlantStatus):number {\n    return this.map(entry?.light, this.lightConfig.min, \n      this.lightConfig.max, 0, 100);\n  }\n\n  private clearLogs():void {\n    this.logs = [];\n    this.sensorDataset = [{\n      data:[],\n      label: 'water',\n      borderColor: \"rgba(62, 192, 247, 1)\",\n      backgroundColor: \"rgba(62, 192, 247, 0.2)\",\n      pointBackgroundColor: \"rgba(62, 192, 247, 1)\",\n      pointBorderColor: \"rgba(62, 192, 247, 1)\",\n      pointHoverBackgroundColor: \"rgba(62, 192, 247, 1)\",\n      pointHoverBorderColor: \"rgba(62, 192, 247, 1)\",\n    },\n    {\n      data: [],\n      label: 'light',\n      borderColor: \"rgba(252, 239, 93, 1)\",\n      backgroundColor: \"rgba(252, 239, 93, 0.2)\",\n      pointBackgroundColor: \"rgba(252, 239, 93, 1)\",\n      pointBorderColor: \"rgba(252, 239, 93, 1)\",\n      pointHoverBackgroundColor: \"rgba(252, 239, 93, 1)\",\n      pointHoverBorderColor: \"rgba(252, 239, 93, 1)\",\n    }];\n    this.timestampLogs = [];\n  }\n\n  private updateLogs(logSnapshot:DataSnapshot) {\n    const log:PlantStatus = logSnapshot.val();\n    this.logs.push(log);\n    this.sensorDataset[0].data.push(this.getWaterValue(log));\n    this.sensorDataset[1].data.push(this.getLightValue(log));\n    this.timestampLogs.push(this.getDateTimeValue(log));\n  }\n\n  public savePlantConfig(config:PlantConfig) {\n    this.plantConfigRef.set(config);\n    this.plants[this.activePlantID].config = config;\n    this.plantConfig = config;\n  }\n\n  private setDatabaseSubscriptions() {\n    this.clearLogs();\n\n    this.lastUpdateSubscription = this.db.object<PlantStatus>(`${this.userID}/plants/${this.activePlantID}/last_update`);\n    this.lastUpdateSubscription.valueChanges().subscribe((update:PlantStatus) => {\n      this.lastUpdate = {\n        water: this.getWaterValue(update),\n        light: this.getLightValue(update),\n        timestamp: update.timestamp\n      };\n    });\n\n    this.plantConfigRef = this.db.object<PlantConfig>(`${this.userID}/plants/${this.activePlantID}/config`);\n    this.plantConfigRef.query.once('value').then((data) => {\n      this.plantConfig = data.val();\n      console.log('plant-config', data.val());\n    });\n\n    this.logsSubscription = this.db.list<{[key: string]: PlantStatus}>(`${this.userID}/plants/${this.activePlantID}/logs`);\n    this.logsSubscription.query.orderByChild('timestamp').limitToLast(50).off('child_added',this.updateLogs)\n    this.logsSubscription.query.orderByChild('timestamp').limitToLast(50).on('child_added', this.updateLogs.bind(this));\n  }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}